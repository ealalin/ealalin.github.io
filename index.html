<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://thunkable.github.io/webviewer-extension/thunkableWebviewerExtension.js" type="text/javascript"></script>
  </head>
  <body>
    <span id="messageDisplay"></span>
    <br />
   <button type="button" id="messageButton">Click to start-01 </button> 
   <var> cloud_name </var> 
   <var> api_key </var>
   <var> text </var>
   <var> result </var>
   
  </body>
 <script type="text/javascript">
  //  when the button is clicked, send a message to the app
    document.getElementById('messageButton').onclick = function() {
            ThunkableWebviewerExtension.postMessage('hello world from Html');
    }

    // when we get a message from the app, display it on the page
    ThunkableWebviewerExtension.receiveMessage(function(message) {
      document.getElementById('messageDisplay').innerHTML = message;
     
      });

    ThunkableWebviewerExtension.receiveMessageWithReturnValue(function(message, callback) {
      if (message === 'slow message') {
        setTimeout(() => callback('slow response'), 4000);
      } else {
        callback('fast response');
      }
    });

  //  let text = message;
  //  let result = text.substr(1, 11);
  //  let cloud_name = result ;
  //  let text = message;
  //  let result = text.substr(13, 7);
  //  let api_key_name = result ;

  </script>
</html>
